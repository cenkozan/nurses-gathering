<app-loading [condition]="isLoading"></app-loading>

<app-toast [message]="toast.message"></app-toast>

<div class="card" *ngIf="!isLoading">
  <h4 class="card-header">Current patients ({{clients.length}})</h4>
  <button type="button" style="margin: 10px 20px;" class="btn" data-toggle="modal" data-target="#addClientModal">
     <i class="fa fa-plus-circle fa-4x" aria-hidden="true"></i>
  </button>
  <div class="card-block">
    <table class="table table-bordered table-striped">
      <thead class="thead-default">
      <tr>
        <th>Names</th>
        <th>Surname</th>
        <th>Phone</th>
        <th>Address</th>
      </tr>
      </thead>
      <tbody *ngIf="clients.length === 0">
      <tr>
        <td style="text-align: center;" colspan="4">There are no clients in the system. Add a new client.</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<div id="addClientModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Add New Client</h4>
      </div>
      <div class="modal-body">
        <form class="form-check" name="addClientForm" novalidate [formGroup]="addClientForm" (ngSubmit)="addClient()">
          <div class="form-group">
              <span class="ui-float-label">
                <input class="form-control" id="names" type="text" size="40" formControlName="names" pInputText>
                <label for="names">Names</label>
              </span>
          </div>
          <div class="form-group">
              <span class="ui-float-label">
                <input class="form-control" id="surname" type="text" size="40" formControlName="surname" pInputText>
                <label for="surname">Surname</label>
              </span>
          </div>
          <div class="form-group">
              <span class="ui-float-label">
                <p-inputMask formControlName="phoneNumber" id="phoneNumber" size="40" mask="9999-999999"></p-inputMask>
                <label for="phoneNumber">Phone Number</label>
              </span>
          </div>
          <div class="form-group">
              <span class="ui-float-label">
                <input class="form-control" id="email" type="text" size="40" formControlName="email" pInputText>
                <label for="email">Email</label>
              </span>
          </div>
          <div class="form-group">
            <label for="gender">Gender</label>
            <p-selectButton [options]="genders" class="form-control" id="gender" type="text" size="40" formControlName="gender"></p-selectButton>
          </div>
          <div class="form-group">
              <span class="ui-float-label">
                <p-calendar id="dob" size="40" formControlName="dob" [monthNavigator]="true" [yearNavigator]="true" yearRange="1920:2000"></p-calendar>
                <label for="dob">Date of Birth</label>
              </span>
          </div>
          <div class="form-group">
              <span class="ui-float-label">
                <input class="form-control" id="weight" type="number" step="any" min="30" max="200" size="40" formControlName="names" pInputText>
                <label for="weight">Weight</label>
              </span>
          </div>
          <div class="form-group">
              <span class="ui-float-label">
                <textarea class="form-control" [rows]="5" id="address" type="text" size="40" formControlName="address" pInputTextarea></textarea>
                <label for="address">Address</label>
              </span>
          </div>
          <div class="form-group">
              <span class="ui-float-label">
                <input class="form-control" id="username" type="text" size="40" formControlName="username" pInputText>
                <label for="username">Username</label>
              </span>
          </div>
          <div class="form-group">
              <span class="ui-float-label">
                <textarea class="form-control" [rows]="5" id="conditions" type="text" size="40" formControlName="conditions" pInputTextarea></textarea>
                <label for="conditions">Conditions</label>
              </span>
          </div>
          <div class="form-group">
              <span class="ui-float-label">
                <textarea class="form-control" [rows]="5" id="additionalServices" type="text" size="40" formControlName="additionalServices" pInputTextarea></textarea>
                <label for="additionalServices">Additional Services</label>
              </span>
          </div>
          <div class="form-group">
              <span class="ui-float-label">
                <textarea class="form-control" [rows]="5" id="contacts" type="text" size="40" formControlName="contacts" pInputTextarea></textarea>
                <label for="contacts">Contacts</label>
              </span>
          </div>
          <div class="form-group">
              <span class="ui-float-label">
                <textarea class="form-control" [rows]="5" id="medicines" type="text" size="40" formControlName="medicines" pInputTextarea></textarea>
                <label for="medicines">Medicines</label>
              </span>
          </div>
          <button class="btn btn-primary" type="submit"><i class="fa fa-floppy-o"></i>Add</button>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

